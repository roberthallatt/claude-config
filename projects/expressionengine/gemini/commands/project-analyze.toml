# Gemini CLI Custom Command: Project Analysis & Configuration Sync
# Invoked as: /project:analyze

description = "Analyze project and sync both Claude and Gemini configurations with project-specific details"

prompt = """
Perform a comprehensive analysis of this project to optimize AI assistant configurations.

## Analysis Tasks

### 1. Environment Detection
Scan and report:
- DDEV configuration (.ddev/config.yaml)
- PHP version, database type/version
- Node.js version, package manager
- Local development URLs

### 2. Project Structure
Identify:
- Template locations (system/user/templates/)
- Template group names
- Layout and partial organization
- Bilingual patterns

### 3. Frontend Stack
Detect:
- CSS framework (Tailwind, Bootstrap, custom)
- JavaScript framework (Alpine, jQuery)
- Build tools (Vite, Webpack, PostCSS)
- Brand colors from config files

### 4. Add-ons
Identify:
- Installed add-ons in system/user/addons/
- Stash, Structure, Low Variables
- MCP addon presence
- Custom add-ons

### 5. Configuration Sync Check
Compare:
- CLAUDE.md settings
- GEMINI.md settings (if present)
- .gemini/styleguide.md conventions

## Output Required

Provide:
1. **Detected Configuration Table** - All environment settings
2. **Structure Overview** - Directory layout and patterns
3. **Technology Stack** - Complete list of detected technologies
4. **Brand Colors** - If Tailwind, extract custom colors
5. **Sync Recommendations** - What needs updating in both Claude and Gemini configs
6. **Missing Components** - Suggested agents/rules to add

## Action Items

After analysis, offer to:
1. Update CLAUDE.md with detected project details
2. Update GEMINI.md to match (if present)
3. Sync styleguide.md with coding conventions
4. Create any recommended missing components

Be thorough but concise. Focus on actionable improvements.
"""
