# Gemini CLI Custom Command: Stash Helper
# Invoked as: /stash:help "caching scenario"

description = "Get help with Stash caching patterns for ExpressionEngine"

prompt = """
Provide Stash caching advice for this scenario:

{{args}}

Include:

1. **Recommended Stash Pattern**
   - Show the complete Stash set/get syntax
   - Explain the caching parameters
   - Include scope and refresh settings

2. **Common Stash Patterns**
   
   ```html
   {!-- Basic caching --}
   {exp:stash:set name="my_data" save="yes" scope="site" replace="no" refresh="60"}
       {exp:channel:entries channel="news" limit="10"}
           <article>{title}</article>
       {/exp:channel:entries}
   {/exp:stash:set}
   
   {exp:stash:get name="my_data"}
   
   {!-- Context-specific caching --}
   {exp:stash:set name="page_{segment_2}" context="pages" save="yes"}
   
   {!-- User-specific caching --}
   {exp:stash:set name="user_prefs" scope="user" save="yes"}
   ```

3. **Stash Parameters**
   - save: yes/no (persist to database)
   - scope: site/user/local
   - replace: yes/no (overwrite existing)
   - refresh: minutes until refresh
   - context: grouping key

4. **Performance Tips**
   - When to use site vs user scope
   - Optimal refresh intervals
   - Avoiding cache stampedes

5. **Troubleshooting**
   - How to clear Stash cache
   - Debugging cache issues
"""
